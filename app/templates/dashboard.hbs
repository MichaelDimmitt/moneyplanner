<header id='header'>

  <h1 id='logo'> MoneyPlanner </h1>

  <form id='add-account'>
    {{input type=text value=accountName placeholder='account name'}}
    <button {{action 'addAccount'}}> Add Account </button>
  </form>

</header>

<main>

  <table id='projections'>
    <thead>
      <tr>
        <th class='name'> Account </th>
        {{#each months as |month|}}
          <th> month {{month}} </th>
        {{/each}}
      </tr>
    </thead>
    <tbody>
      {{#each model.accounts as |account|}}
        <tr>
          <td class='name'>{{account.name}}</td>
          {{#each months as |month|}}
            <td class={{incomeExpense (product account.total month)}}>
              $ {{product account.total month}}
            </td>
          {{/each}}
        </tr>
      {{/each}}
    </tbody>
  </table>

  {{#each model.accounts as |account|}}
    <article class='account'>

      <header>
        <h2>
          {{account.name}}
          <span> $ {{account.total}} </span>
        </h2>
      </header>

      <form class='add-item'>
        {{input class='name' type=text value=account.itemName placeholder='Item Name'}}
        {{input class='amount' type='number' value=account.itemAmount placeholder='Amt/Month'}}
        <button {{action 'addItem' account}}> add </button>
      </form>

      <table>
        <tbody>
          {{#each account.orderedItems as |item|}}
            {{#account-item item=item}}
              <td> {{item.name}} </td>
              <td class='amount'> {{item.amount}} </td>
              {{#if item.toAccount}}
                <td> ({{item.toAccount}}) </td>
              {{/if}}
            {{/account-item}}
          {{/each}}
        </tbody>
      </table>

      <div class='subtotal'>
        <span class='income'>{{account.totalIncome}}</span>
        /<span class='expense'>{{account.totalExpenses}}</span>
      </div>

    </article>
  {{/each}}

</main>
